specVersion: 0.0.4
description: Sport Markets V2 API
repository: https://github.com/thales-markets/thales-subgraph
schema:
  file: ../schema.graphql
dataSources:
  - kind: ethereum/contract
    name: LiquidityPool
    network: optimism
    source:
      address: '0x0fe1044Fc8C05482102Db14368fE88791E9B8698'
      abi: LiquidityPool
      startBlock: 120582645
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/liquidity-pool-mapping.ts
      entities:
        - LiquidityPool
        - LiquidityPoolUserTransaction
        - LiquidityPoolPnl
      abis:
        - name: LiquidityPool
          file: ../abis/LiquidityPool.json
      eventHandlers:
        - event: PoolStarted()
          handler: handlePoolStarted
        - event: RoundClosed(uint256,uint256)
          handler: handleRoundClosed
        - event: Deposited(address,uint256,uint256)
          handler: handleDeposited
        - event: WithdrawalRequested(address)
          handler: handleWithdrawalRequested
        - event: Claimed(address,uint256)
          handler: handleClaimed
  - kind: ethereum/contract
    name: LiquidityPoolWETH
    network: optimism
    source:
      address: '0x4f2822D4e60af7f9F70E7e45BC1941fe3461231e'
      abi: LiquidityPool
      startBlock: 120604187
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/liquidity-pool-mapping.ts
      entities:
        - LiquidityPool
        - LiquidityPoolUserTransaction
        - LiquidityPoolPnl
      abis:
        - name: LiquidityPool
          file: ../abis/LiquidityPool.json
      eventHandlers:
        - event: PoolStarted()
          handler: handlePoolStarted
        - event: RoundClosed(uint256,uint256)
          handler: handleRoundClosed
        - event: Deposited(address,uint256,uint256)
          handler: handleDeposited
        - event: WithdrawalRequested(address)
          handler: handleWithdrawalRequested
        - event: Claimed(address,uint256)
          handler: handleClaimed
  - kind: ethereum/contract
    name: LiquidityPoolTHALES
    network: optimism
    source:
      address: '0xE59206b08cC96Da0818522C75eE3Fd4EBB7c0A47'
      abi: LiquidityPool
      startBlock: 120604508
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.6
      language: wasm/assemblyscript
      file: ../src/liquidity-pool-mapping.ts
      entities:
        - LiquidityPool
        - LiquidityPoolUserTransaction
        - LiquidityPoolPnl
      abis:
        - name: LiquidityPool
          file: ../abis/LiquidityPool.json
      eventHandlers:
        - event: PoolStarted()
          handler: handlePoolStarted
        - event: RoundClosed(uint256,uint256)
          handler: handleRoundClosed
        - event: Deposited(address,uint256,uint256)
          handler: handleDeposited
        - event: WithdrawalRequested(address)
          handler: handleWithdrawalRequested
        - event: Claimed(address,uint256)
          handler: handleClaimed
